---
base: fedora:34
install:
 - make
 - mingw64-gcc
 - mingw64-gcc-c++

 # Buildsystem dependencies
 - autoconf
 - coreutils
 - gettext-devel
 - libtool

 # Runtime dependencies
 #
 # @warning gtk2-devel should not be required, but needed to provide
 #     {@code /usr/share/aclocal/gsettings.m4} since autoconf does not seem to
 #     pick up on {@code /usr/x86_64-w64-mingw32/sys-root/mingw/share/aclocal/gsettings.m4}
 - gtk2-devel
 - mingw64-cairo-static
 - mingw64-gtk2-static

 # Test dependencies
 - ImageMagick
---
#!/bin/bash

sudo tee -a '/opt/configure' > /dev/null <<EOT
#!/bin/bash

set -e

mingw64-configure				\
	--disable-debug				\
	--disable-update-desktop-database	\

EOT

sudo chmod +x '/opt/configure'

